(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{33:function(e,t,n){e.exports=n(50)},38:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),i=n.n(c),l=n(31),o=(n(38),n(13)),s=n(2),u=n(15),d=n(4),p=n(5),m=n(7),h=n(6),E=n(16),b=n.n(E),f=n(3),v=n(20),j=function(e){return{type:"STORE_EXPENSE",expense:e}};n(44);var O=["Descri\xe7\xe3o","Tag","M\xe9todo de pagamento","Valor","Moeda","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Editar/Excluir"],x=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],g=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],y={isEditing:!1,id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},C=function(e){return!Object.values(Object(f.a)(Object(f.a)({},e),{},{id:!0,isEditing:!0,editingId:!0})).every(Boolean)},k=/\S+@\S+\.\S+/,w=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleChange=function(t){var n=t.target;e.setState(Object(u.a)({},n.id,n.value))},e.state={email:"",password:""},e}return Object(p.a)(n,[{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,n=t.storeEmail,a=t.history;n(this.state.email),a.push("/carteira")}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.password;return r.a.createElement("main",{className:"login-page"},r.a.createElement("h2",null,"Carteira Digital"),r.a.createElement("form",{className:"login-form"},r.a.createElement("input",{type:"email",placeholder:"email",id:"email",onChange:this.handleChange,value:n}),r.a.createElement("input",{type:"password",placeholder:"senha",id:"password",onChange:this.handleChange,value:a}),r.a.createElement("button",{type:"submit",onClick:function(t){return e.handleClick(t)},disabled:a.length<6||!k.test(n)},"Entrar")))}}]),n}(r.a.Component),S=Object(o.b)(null,(function(e){return{storeEmail:function(t){return e(function(e){return{type:"STORE_EMAIL",userEmail:e}}(t))}}}))(w),D=(n(45),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("h1",{className:"not-found-text"},"P\xe1gina n\xe3o encontrada")}}]),n}(r.a.Component)),N=n(21),T=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,a=e.options,c=e.handle;return r.a.createElement("label",{htmlFor:n},t,r.a.createElement("select",{name:n,id:n,onChange:c},a.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))}}]),n}(r.a.Component);T.defaultProps={options:[]};var P=T,R=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.id,a=e.handle,c=e.value;return r.a.createElement("label",{htmlFor:n},r.a.createElement("p",null,t),r.a.createElement("input",{type:"text",id:n,onChange:a,value:c}))}}]),n}(r.a.Component),M=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.onClick,a=e.className,c=e.disabled;return r.a.createElement("button",{type:"button",onClick:n,className:a,disabled:c},t)}}]),n}(r.a.Component);M.defaultProps={onClick:function(){},className:"",disabled:!1};n(46);var _=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.expenses,n=e.deleteExpense,a=e.editExpense;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,O.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,t.map((function(e){var t=e.exchangeRates[e.currency],c=t.name.split("/"),i=t.ask;return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,(+e.value).toFixed(2)),r.a.createElement("td",null,c[0]),r.a.createElement("td",null,(+i).toFixed(2)),r.a.createElement("td",null,(e.value*i).toFixed(2)),r.a.createElement("td",null,c[1]),r.a.createElement("td",null,r.a.createElement(M,{text:"Editar",onClick:function(){return a(e)},className:"expense-row-btn edit"}),r.a.createElement(M,{text:"Excluir",onClick:function(){return n(e.id)},className:"expense-row-btn delete"})))}))))}}]),n}(a.Component),A=Object(o.b)(null,(function(e){return{deleteExpense:function(t){return e(function(e){return{type:"DELETE_EXPENSE",id:e}}(t))}}}))(_),I=(n(47),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.totalExpense;return r.a.createElement("header",null,r.a.createElement("h2",null,"Carteira Digital"),r.a.createElement("div",{className:"user-data"},r.a.createElement("p",null,"Email: ".concat(t)),r.a.createElement("div",null,r.a.createElement("p",null,"Despesa Total: R$ ".concat(n.toFixed(2))),r.a.createElement("span",null,"BRL"))))}}]),n}(r.a.Component));function F(){return(F=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://economia.awesomeapi.com.br/json/all",e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return t=e.sent,e.next=6,t.json();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(){return F.apply(this,arguments)},X=(n(48),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).create=function(){var t=e.props.storeExpense,n=e.state;n.currencies;t(Object(N.a)(n,["currencies"])),e.setState((function(e){return Object(f.a)(Object(f.a)({},y),{},{id:e.id+1})}))},e.handleChange=function(t){var n=t.target;e.setState(Object(u.a)({},n.id,n.value))},e.editExpense=function(t){var n=t.id,a=Object(N.a)(t,["id"]);e.setState(Object(f.a)(Object(f.a)({},a),{},{editingId:n,isEditing:!0}))},e.update=function(){var t=e.props.updateExpense,n=e.state,a=(n.currencies,n.isEditing,n.id),r=n.editingId,c=Object(N.a)(n,["currencies","isEditing","id","editingId"]);t(Object(f.a)(Object(f.a)({},c),{},{id:r})),e.setState(Object(f.a)(Object(f.a)({},y),{},{id:a,isEditing:!1}))},e.state=y,e}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this;L().then((function(t){var n=Object.keys(t).filter((function(e){return"USDT"!==e}));e.setState({currencies:n})}))}},{key:"render",value:function(){var e=this.props,t=e.userEmail,n=e.expenses,a=this.state,c=a.currencies,i=a.value,l=a.description,o=a.isEditing,s=n.length>0?function(e){return e.map((function(e){var t=e.value,n=e.currency;return t*e.exchangeRates[n].ask})).reduce((function(e,t){return e+t}),0)}(n):0;return r.a.createElement("div",null,r.a.createElement(I,{email:t,totalExpense:s}),r.a.createElement("main",null,r.a.createElement("form",{className:"expense-form editing-".concat(o)},r.a.createElement(R,{text:"Valor",id:"value",handle:this.handleChange,value:i}),r.a.createElement(R,{text:"Descri\xe7\xe3o",id:"description",handle:this.handleChange,value:l}),r.a.createElement(P,{name:"Moeda",id:"currency",options:c,handle:this.handleChange}),r.a.createElement(P,{name:"M\xe9todo de pagamento",id:"method",options:x,handle:this.handleChange}),r.a.createElement(P,{name:"Tag",id:"tag",options:g,handle:this.handleChange}),o?r.a.createElement(M,{text:"Editar gasto",onClick:this.update,disabled:C(this.state)}):r.a.createElement(M,{onClick:this.create,text:"Adicionar despesa",disabled:C(this.state)})),r.a.createElement(A,{expenses:n,editExpense:this.editExpense})))}}]),n}(r.a.Component)),B=Object(o.b)((function(e){return{userEmail:e.user.email,expenses:e.wallet.expenses}}),(function(e){return{storeExpense:function(t){return e(function(e){return function(){var t=Object(v.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=t.sent,t.next=5,a.json();case 5:return a=t.sent,t.abrupt("return",n(j(Object(f.a)(Object(f.a)({},e),{},{exchangeRates:a}))));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},updateExpense:function(t){return e(function(e){return{type:"UPDATE_EXPENSE",expense:e}}(t))}}}))(X);var U=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:S}),r.a.createElement(s.a,{path:"/carteira",component:B}),r.a.createElement(s.a,{component:D}))},V=n(12),W=n(29),z=n(30),J={email:""};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_EMAIL":return{email:t.userEmail};default:return e}},q=n(32),G={currencies:[],expenses:[]};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_EXPENSE":return Object(f.a)(Object(f.a)({},e),{},{expenses:[].concat(Object(q.a)(e.expenses),[t.expense])});case"DELETE_EXPENSE":return Object(f.a)(Object(f.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});case"UPDATE_EXPENSE":return Object(f.a)(Object(f.a)({},e),{},{expenses:e.expenses.map((function(e){return e.id!==t.expense.id?e:t.expense}))});default:return e}},K=Object(V.combineReducers)({user:$,wallet:H}),Q=Object(V.createStore)(K,Object(z.composeWithDevTools)(Object(V.applyMiddleware)(W.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(o.a,{store:Q},r.a.createElement(l.a,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.4cece734.chunk.js.map